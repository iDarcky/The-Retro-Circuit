import{j as e,B as y}from"./ui-utils-Bc8hcx-Q.js";import{r as a,L as b}from"./vendor-react-DYQUvfhN.js";import{k as S,R as v,l as T,m as L}from"./index-B-i4yEhk.js";const B=()=>{const[g,E]=a.useState([]),[k,A]=a.useState([]),[u,i]=a.useState(!0),[o,c]=a.useState("BRAND"),[l,m]=a.useState(1),[C,R]=a.useState(0),p=12,[s,x]=a.useState({minYear:1970,maxYear:2005,generations:[],types:[],manufacturer:null});a.useEffect(()=>{(async()=>{i(!0);const r=await L();A(r),i(!1)})()},[]);const f=a.useCallback(async t=>{i(!0),window.scrollTo({top:0,behavior:"smooth"});const{data:r,count:n}=await S(s,t,p);E(r),R(n),i(!1)},[s]);a.useEffect(()=>{o==="LIST"&&f(l)},[l,o,s,f]),a.useEffect(()=>{m(1)},[s]);const j=(t,r)=>{x(n=>({...n,[t]:r}))},N=(t,r)=>{x(n=>{const h=n[t];return h.includes(r)?{...n,[t]:h.filter(w=>w!==r)}:{...n,[t]:[...h,r]}})},d=Math.ceil(C/p);return e.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4",children:[e.jsxs("div",{className:"text-center mb-8 border-b border-retro-grid pb-4",children:[e.jsx("h2",{className:"text-3xl font-pixel text-retro-neon mb-2 drop-shadow-[0_0_10px_rgba(0,255,157,0.5)]",children:"HARDWARE DATABASE"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>{c("BRAND"),x({minYear:1970,maxYear:2005,generations:[],types:[],manufacturer:null})},className:`font-mono text-xs px-3 py-1 transition-colors ${o==="BRAND"?"bg-retro-neon text-black":"text-gray-500 hover:text-white"}`,children:"DIRECTORY MODE"}),e.jsx("button",{onClick:()=>c("LIST"),className:`font-mono text-xs px-3 py-1 transition-colors ${o==="LIST"?"bg-retro-neon text-black":"text-gray-500 hover:text-white"}`,children:"ADVANCED SEARCH"})]})]}),o==="BRAND"&&(u?e.jsx(v,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[k.map(t=>{const r=T(t);return e.jsxs(b,{to:`/consoles/brand/${t}`,className:`group border-4 bg-retro-dark p-8 flex flex-col items-center justify-center gap-4 transition-all duration-300 ${r.color} ${r.hover}`,children:[e.jsx("div",{className:"w-20 h-20 border-2 border-current rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"font-pixel text-2xl",children:t[0]})}),e.jsx("span",{className:"font-pixel text-xl tracking-widest uppercase",children:t}),e.jsx("span",{className:"font-mono text-xs opacity-75",children:"ACCESS FOLDER >"})]},t)}),e.jsxs("button",{onClick:()=>c("LIST"),className:"group border-4 border-dashed border-gray-600 bg-retro-dark p-8 flex flex-col items-center justify-center gap-4 hover:border-retro-pink hover:text-retro-pink transition-colors text-gray-500",children:[e.jsx("span",{className:"font-pixel text-lg",children:"VIEW ALL"}),e.jsx("span",{className:"font-mono text-xs",children:"APPLY FILTERS"})]})]})),o==="LIST"&&e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 animate-[fadeIn_0.5s_ease-in-out]",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0 space-y-6",children:e.jsxs("div",{className:"bg-retro-dark border border-retro-grid p-4",children:[e.jsx("h3",{className:"font-pixel text-xs text-retro-blue mb-4 border-b border-retro-grid pb-2",children:"FILTERS"}),s.manufacturer&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-xs font-mono text-gray-500 block",children:"MANUFACTURER"}),e.jsxs("div",{className:"flex justify-between items-center text-retro-neon font-bold font-mono",children:[s.manufacturer,e.jsx("button",{onClick:()=>{x(t=>({...t,manufacturer:null})),c("BRAND")},className:"text-red-500 hover:text-white",children:"âœ•"})]}),e.jsx(b,{to:`/consoles/brand/${s.manufacturer}`,className:"text-[10px] font-mono text-retro-blue hover:text-white mt-1 block",children:"[ VIEW CORP DATA ]"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-2",children:"RELEASE YEAR"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:s.minYear,onChange:t=>j("minYear",parseInt(t.target.value)),className:"w-1/2 bg-black border border-retro-grid px-2 py-1 text-white font-mono text-sm"}),e.jsx("input",{type:"number",value:s.maxYear,onChange:t=>j("maxYear",parseInt(t.target.value)),className:"w-1/2 bg-black border border-retro-grid px-2 py-1 text-white font-mono text-sm"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-2",children:"GENERATION"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[3,4,5,6].map(t=>e.jsxs("button",{onClick:()=>N("generations",t),className:`text-xs font-mono border px-2 py-1 ${s.generations.includes(t)?"bg-retro-neon text-black border-retro-neon":"border-gray-700 text-gray-400"}`,children:["GEN ",t]},t))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-xs font-mono text-gray-500 block mb-2",children:"TYPE"}),e.jsx("div",{className:"space-y-2",children:["Home","Handheld"].map(t=>e.jsxs("label",{className:"flex items-center gap-2 font-mono text-xs text-gray-300 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.types.includes(t),onChange:()=>N("types",t),className:"accent-retro-pink"}),t.toUpperCase()]},t))})]})]})}),e.jsx("div",{className:"flex-1",children:u?e.jsx(v,{}):g.length===0?e.jsx("div",{className:"text-center p-12 border-2 border-dashed border-gray-700 font-mono text-gray-500",children:"NO HARDWARE MATCHES FILTERS."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map((t,r)=>e.jsxs(b,{to:`/consoles/${t.slug}`,className:"group block border border-retro-grid bg-retro-dark relative overflow-hidden hover:border-retro-blue transition-all",children:[e.jsx("div",{className:"h-32 bg-black/40 flex items-center justify-center p-4 relative",children:t.image_url?e.jsx("img",{src:t.image_url,className:"max-h-full object-contain"}):e.jsx("span",{className:"font-pixel text-gray-700 text-4xl",children:"?"})}),e.jsxs("div",{className:"p-3 border-t border-retro-grid",children:[e.jsxs("div",{className:"flex justify-between text-[10px] font-mono text-gray-500 mb-1",children:[e.jsx("span",{children:t.release_year}),e.jsxs("span",{children:["GEN ",t.generation]})]}),e.jsx("h3",{className:"font-pixel text-xs text-white group-hover:text-retro-neon truncate",children:t.name})]})]},`${t.id}-${r}`))}),d>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 py-8 border-t border-retro-grid/30 mt-8",children:[e.jsx(y,{variant:"secondary",onClick:()=>m(t=>Math.max(1,t-1)),disabled:l===1,className:"text-xs",children:"< PREV"}),e.jsxs("div",{className:"font-pixel text-xs text-retro-neon bg-retro-grid/20 px-4 py-2 rounded",children:["PAGE ",l," OF ",d]}),e.jsx(y,{variant:"secondary",onClick:()=>m(t=>Math.min(d,t+1)),disabled:l>=d,className:"text-xs",children:"NEXT >"})]})]})})]})]})};export{B as default};
