import{j as e,B as h}from"./ui-utils-Bc8hcx-Q.js";import{e as p,r as a,L as o}from"./vendor-react-DYQUvfhN.js";import{R as b,S as n,h as u}from"./index-B-i4yEhk.js";import{C as f}from"./CollectionToggle-DUHN_K-N.js";const y=()=>{const{slug:s}=p(),[t,i]=a.useState(null),[c,l]=a.useState(!0);if(a.useEffect(()=>{(async()=>{if(!s)return;l(!0);const g=await u(s);i(g),l(!1)})()},[s]),c)return e.jsx(b,{});if(!t)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh]",children:[e.jsx(n,{title:"Game Not Found",description:"The requested game cartridge could not be located in our archives."}),e.jsx("h2",{className:"font-pixel text-retro-pink text-2xl mb-4",children:"ERROR 404"}),e.jsx("p",{className:"font-mono text-gray-400 mb-8",children:"GAME CARTRIDGE NOT FOUND."}),e.jsx(o,{to:"/games",children:e.jsx(h,{variant:"secondary",children:"RETURN TO ARCHIVE"})})]});const d=()=>{const r=encodeURIComponent(`${t.title} ${t.developer} game`);window.open(`https://www.ebay.com/sch/i.html?_nkw=${r}`,"_blank")},x={"@context":"https://schema.org","@type":"VideoGame",name:t.title,description:t.content.substring(0,160)+"...",genre:[t.genre],gamePlatform:t.console_slug?`https://theretrocircuit.com/consoles/${t.console_slug}`:"Retro Console",publisher:t.developer,author:{"@type":"Organization",name:t.developer},datePublished:t.year,image:t.image,aggregateRating:{"@type":"AggregateRating",ratingValue:t.rating||5,bestRating:"5",ratingCount:"1"}},m=Math.min(5,Math.max(0,Math.round(t.rating||5)));return e.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4",children:[e.jsx(n,{title:`${t.title} (${t.year}) Review`,description:`Read our retrospective review of ${t.title} by ${t.developer}. ${t.whyItMatters}`,image:t.image,structuredData:x}),e.jsxs("div",{className:"mb-8 border-b-4 border-retro-grid pb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx(o,{to:"/games",className:"inline-block text-xs font-mono text-retro-blue hover:text-retro-neon transition-colors",children:"< BACK TO DATABASE"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-48",children:e.jsx(f,{itemId:t.slug||t.id||"",itemType:"GAME",itemName:t.title,itemImage:t.image})}),e.jsxs("button",{onClick:d,className:"bg-blue-600/20 border border-blue-500 text-blue-400 hover:bg-blue-600 hover:text-white px-3 py-1 font-mono text-xs transition-colors flex items-center gap-2",title:"Search on eBay",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"SEARCH EBAY"]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsxs("div",{className:"aspect-[3/4] bg-black border-2 border-retro-grid relative shadow-lg overflow-hidden group",children:[t.image?e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-retro-grid font-pixel",children:"NO COVER"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:e.jsx("span",{className:"font-pixel text-xs text-retro-neon",children:"COVER ART"})})]})}),e.jsxs("div",{className:"w-full md:w-2/3",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-pixel text-white mb-2 drop-shadow-[4px_4px_0_rgba(255,0,255,0.5)] leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 font-mono text-sm text-retro-blue",children:[e.jsx("span",{className:"bg-retro-blue/10 px-2 py-1 border border-retro-blue",children:t.developer}),e.jsx("span",{className:"bg-retro-blue/10 px-2 py-1 border border-retro-blue",children:t.year}),e.jsx("span",{className:"bg-retro-blue/10 px-2 py-1 border border-retro-blue",children:t.genre}),t.console_slug&&e.jsx(o,{to:`/consoles/${t.console_slug}`,className:"bg-retro-neon/10 px-2 py-1 border border-retro-neon text-retro-neon hover:bg-retro-neon hover:text-black transition-colors",children:"PLATFORM >"})]}),e.jsxs("div",{className:"bg-retro-dark border border-retro-grid p-6 mb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-retro-grid px-2 py-1 text-[10px] text-black font-bold font-mono",children:"ARCHIVE FILE"}),e.jsx("p",{className:"font-mono text-gray-300 leading-relaxed whitespace-pre-line text-lg",children:t.content})]}),e.jsxs("div",{className:"bg-retro-pink/10 border border-retro-pink p-6",children:[e.jsx("h3",{className:"font-pixel text-retro-pink mb-2",children:"WHY IT MATTERS"}),e.jsx("p",{className:"font-mono text-retro-pink/80 leading-relaxed",children:t.whyItMatters})]}),e.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[e.jsx("span",{className:"font-pixel text-sm text-gray-500",children:"RATING:"}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(r=>e.jsx("svg",{className:`w-6 h-6 ${r<=m?"text-yellow-400":"text-gray-700"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))})]})]})]})]})]})};export{y as default};
